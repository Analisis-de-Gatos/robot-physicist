---
execute:
    output: true
    eval: true
    echo: false
resources:
    - plots/*
---

# Test 1 - Análisis físico automatizado, utilizando datos abiertos del experimento ATLAS (CERN)

```{python}
from pathlib import Path
import os

# Buscar la carpeta 'plots' en rutas relativas comunes (desde el directorio de renderizado)
candidates = [
    Path("plots"),
    Path("..") / "plots",
    Path("..") / ".." / "plots",
    Path("..") / ".." / ".." / "plots",
]
plots_dir = None
for p in candidates:
    if p.exists() and p.is_dir():
        plots_dir = p.resolve()
        break

if plots_dir is None:
    print('No se encontró la carpeta "plots" en rutas relativas esperadas.')
else:
    pngs = sorted(plots_dir.glob("*.png"))
    if not pngs:
        print('No se encontraron archivos .png en la carpeta "plots".')
    else:
        from IPython.display import HTML, display

        cwd = Path(os.getcwd())

        grid_style = (
            "display:grid;"
            "grid-template-columns:repeat(auto-fit,minmax(220px,1fr));"
            "gap:16px;align-items:start;"
        )

        html_parts = [f'<div style="{grid_style}">']
        for img in pngs:
            try:
                rel = os.path.relpath(img, start=cwd).replace("\\", "/")
            except Exception:
                rel = str(img)

            html_parts.append(
                '<div style="box-sizing:border-box;padding:6px;background:#fafafa;border:1px solid #eee;border-radius:6px;text-align:center;">'
            )
            html_parts.append(
                f'  <a href="{rel}" target="_blank" style="display:block;">'
            )
            html_parts.append(
                f'    <img src="{rel}" style="width:100%;height:auto;max-height:400px;object-fit:contain;border-radius:4px;"/>'
            )
            html_parts.append("  </a>")
            html_parts.append(
                f'  <div style="font-size:0.9em;margin-top:8px;color:#333;word-break:break-all">{img.name}</div>'
            )
            html_parts.append("</div>")

        html_parts.append("</div>")
        html = "\n".join(html_parts)
        display(HTML(html))
```